project libgil2
	: requirements <include>../include <define>WIN32
	: usage-requirements <include>../include
	;

# A simple rule that prefix a directory name on all files
rule prefix ( dir : sequences * ) {
        local result ;
        for local x in $(sequences) {
                result += $(dir)/$(x) ;
        }
        return $(result) ;
}

lib gil2 : 
        [ prefix io :
                crw.cpp dcraw.c exr.cpp hdr.cpp jpeg.cpp
                png.cpp tiff.cpp bmp.cpp
        ]
        ..//EXTRA_LIBS
        ;

install dist 
	: gil2 
	: <variant>debug:<location>$(TOP)/lib/debug
	  <variant>release:<location>$(TOP)/lib/release
	;
